<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dincher.project.system.mapper.UserRoleMapper">

    <select id="selectDataList" resultType="UserRoleVO">
        select
            a.user_id, a.role_id, a.delete_flag, a.create_by, a.create_datetime, a.update_by, a.update_datetime
        from sys_user_role a
        <where>
            a.delete_flag=0
            <if test="userId != null">
                and a.user_id = #{userId}
            </if>
            <if test="roleId != null">
                and a.role_id = #{roleId}
            </if>
            <if test="createBy != null">
                and a.create_by = #{createBy}
            </if>
            <if test="createDatetime != null">
                and a.create_datetime = #{createDatetime}
            </if>
            <if test="updateBy != null">
                and a.update_by = #{updateBy}
            </if>
            <if test="updateDatetime != null">
                and a.update_datetime = #{updateDatetime}
            </if>
        </where>
    </select>
    <delete id="deleteData" parameterType="java.lang.Integer">
        delete from sys_user_role where user_id = #{userId}
    </delete>

    <delete id="deleteDataBatch" parameterType="Integer">
        delete from sys_user_role where user_id in
        <foreach collection="array" item="userId" open="(" separator="," close=")">
            #{userId}
        </foreach>
    </delete>

</mapper>


